# Copyright (c) 2018 OpenJAX
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
#
# You should have received a copy of The MIT License (MIT) along with this
# program. If not, see <http://opensource.org/licenses/MIT/>.

language: java
jdk:
- oraclejdk8
- oraclejdk11
install:
- cp settings.xml $HOME/.m2/settings.xml
script:
- 'if [ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
      [ "$TRAVIS_BRANCH" = "master" ] &&
      [ "$TRAVIS_PULL_REQUEST" = "false" ]; then
    sh -c "$SIGNING_KEY" | $GPG_EXECUTABLE --fast-import &> /dev/null &&
    mvn -Dmaven.rtest.skip -DrepoToken=$REPO_TOKEN clean deploy -P deploy;
  else
    mvn -Dmaven.rtest.skip -DrepoToken=$REPO_TOKEN clean install;
  fi'
cache:
  directories:
    - ~/.m2/repository
env:
  global:
  - secure: jepACG+18eRg6GN6DxKgu43ZNtqV4eBelifXAG7+F7XkAsB1A8kD7xLM7LmVRMGXAoROkb9Fhe1GDGZFtxQUgsiokciN06T7w/2GVATmglRZEM9ZTL2QIIka9C4PUtg+U73m5gQGeEzmzJ9bZT5KYqD/4L/6LJpJtADRM+nFlRsdJwGccqSMCdiOxjD2GoQ4FO0Fjb1+v8XI9coOFMH/ZQDZxKIt55OVTtXwOZ6Qb4WHwbZCsVEiTL9fKI85IbGQ8FUVOJWW7apXGMhZAzTfUJWF2MDeqNsLTWnqBmP740++T2n2+4mdo13bxMSbfMgRkyR2lDymI/4i8pQP5uqeDonwvW/1hHgn50zcvP4vNiujGnZ87vRZmR+Pn409vHA6mladyle/Tqi6IoimmIfRsqrQzTCb4N3Nge8bVLaI/f7xM7mzrTt7I8gHOv2Ce3sl0u1nfzLVnqOVMZDWjoDHFfgWi4cjDM2AwC3qpg8fEbaRZrBFVaBIpWBLrI78PVGlWtxnm0lyP16Ny+Fc18Ehyw0JstQ6sLon4+cSj6NXk8MPpO45iA8q+BDViYHCJrBo9Z+ZhrrPsDnkg3+I8Bh5UTWF+wN0zcCDjhtpy8YTN/MPgFpAhUWRi3TDQpWNTX388EGYIkWbay234RaGYIbLeXjOQpUIoE77NSqFH0Axcls=
  - secure: pXZlgzitZb5imb43T1AEcfZ6d+F8HzO/EmhaEhteJsVKldLljwlxj+D/UYrWG0nu7eVyR8w8pwP4vACBilmaaAy8zjaxVwlEpk/Jg5Z54mH3leS16GTSpQmt4p0qjw7Npm9gpRq0O+3H2GQWR+R0o7y2ix0kBcsjVEWC4YOeCGLtu4PqzJ0KogmlRPsqyCKM2v1H1c/vhZ66ymmxAClAiWVHhOGWN9gGHN+QrbBaRpYl7NmvHpRXiNWq0Dy+rjgTspfgx8CGh/Yq0/X6DTv2U/dcRHxXEwUtfvl3UEacHZh5TYt+0q4pdB7RHlqSpz8e8f86OLap+6XbCMSBRUTvA8ohzxYcUX6e8y/QthtBTgizA4mIoux7/cz+ErBZEiGc+DLRU0IWsqq/qQ6jzPlMWIgS0uDryOWBhuzCCbCrOKrlOOpVpsG+YH9qTbwe6SIP39UJysdiZE1zl2uZF43qYlWTpaGpHUEt01M44dMTgOlyHRyDv+yscRy1kty6GthS5ezEJxVN87BD+VftKg+sC92yAfuVEfEEx/XGV7cUYloSZWtHVzGLKpaToVyL1BJ1u9j+6CCBDdz29JHe5vibtPLBfkV1+lA06N0YY6DcLjn12wi7Dxeu4GYe/b3x0Q+Lc+nRoZpcDGyd4GwqxHOLVfks04VWUL+2KwiR4t+6xLQ=
  - secure: 1kJ/21XQmTLwREjWZUhOvh6uxbr9+AfcDieLXRHDEysljQO0J5UuDrFGe1DELsu4YgWhmuj/uTf61jEOYr/TZ7oukdeexZkKVEmXGnWcEX4ACmJVEiJB1RDz5CTn1uitR9QiGYIpOrydbr3r2T3LELRBKGXIY4aBkRThLeebDHovwPEvU7tx4lznFiiSShF0spZSIXloyvGHnfFeFuV2ZhWAj/ELVxUSblNo1b5iGNXcckcfi1tWSwGHi4WKyYDLNjoF+dmKgSpCf9iepZY0g6kCJXIeiVoM7AoLSWrqtOMIMdsm6Cvj4KRCGSi5OuVuF1eR6igIHbT9QEO0i82RouaJDV/VxfI9JDxjNDab+TDKZHLH6BwgCxjC7jGLftwps6BmWZ1WLUSxmttQfAywGtS/0pyyljKwbdUaohbQ+dsH6XtZuYPFVOB+hX6t8Xa/U7J8lw5HTmfjW4+iHRHSn6c65rgRsHsnpMWS70nlcykOb1fhHrNL7TJJcLR23AanDO1ATZc9YyLBLv1XxgingiW9YGq5iDgHIkujpp25W/sGS4kqqCXgBWKgs0O7ybNDaFwPWrYnwob+8NLVOhspdXtHpHsDVtFRGSAUDSYNg/sPh7vRTpHHiAxr67Ao6a3vUK083lg/rp9T4WvrhbjWAAGIuVJCyTgTOp+ulzcJSBY=
  - secure: uBubILMiLWtUNEGX1yW+uF5UA9tAx1pk8+yQhwuKnPom+RSWPMEgNwAcjU0n/eqFOcokKu8ZpO8qEpbNAWVniUuggFJlAiaUG2Db4ZZ9a4A42wcuXp9HnNyzkdheoGxpvkza33bT2OrPZ00bwVRyAINGNCcCEL38TsSNimloQwejfSfeRwrYjDFCfTTiZ0do5uOQruauyoVa2a766iKwMUlItHD/zCfvUoTUf6WWHtdgfHIvWQZR/PWv2dFpwuLqYxce8c2Zbdso2lExlHegBjN7SsfpX6KlG6/iEnneGZjJRmq3nMAHXMCc3jxCegaNrZBtRnj29dC+975zNzDzLrQpuzyFlhZOKJQ7lxd43p6+vcTIUG+RGl9Hjrm4YoFMSWFdsde81d+VR/A5FU/RgH94QJ9RCAww9aG5ru2j8mAtbu6/X72ZkLmA89xQFMATtYU8rKNNEAbqn/xvzqcnDpAalxFcrUDD9vzmGox53ZGk6TOYI/PHafajhNRxuKpIc0go3CFPOy65wj9B6432bN8Po0lMJZYp91yNYo8jYMl3ZnJqqatjJfEX6f2hArv/L8zGsomYEaMW+jv/vT9VxhYiyE+KoZQ/srcgm+ivDhYpKBuVpg4XOQU70cgAHGZo1VCibHYdnr3+N5L5RcOCiv035RY3SEd8LLxFd04M1IE=
  - secure: 5z51BpsN2dow+rlRYV5fZyoLpE9Lhs+H4VWog64vhRjcmD3YGyNnw8LslVeGo+OAtBK7ntKVN5+fZVfHhuEhfTUYsT3ruoVxiBPaq+9npveLNDnWr8noJVsPr/WXDBcsMFhTsTA5PMapC8BOM9XB6NCgxvbH5SKRKLMj082CweMYC3eOKL9LO7AN5LsBifMRhWanuNLe6+USk3PoDhR1qCGmYk8Th4iSnTzQkzxb2cUDEZVSXsrD22JPB2gxm6a7PCQZ4m/OxQttRRXJEuCDU9fp3hcvK0CjNaXcacQvXUZerKmw1BsJ+VLo+Fq7ZpX3/dddHTfoj5IXNpzCL2XiTfEE2twZGxgqlJtMaoH/PgZgQHRpmK4w1Hkhfv3iNVpgSGa2PjafPIeaQzGg0NCV8ZrZQLDvjp0C67wSxzk8VYwkpkElRW8FaoDYcHh/bHJgRO/J504MZE6CZcr0n2TQf3j2asbPoJsq4NT8rxpBcWzSuxcQMiHgf11vQYyUdiosnSWf5GqTAh25VpJUJPQ8Fn1NL8fmiCIoNkqpqb2+U9JuvJur5HnUYgzqddxCwiQiMM/EmTVa+kS3FV5WQ7B7LAeROtsbcjxYAszfWMGtZ5YBLeJ11TAkpnTNdOLdvzOMSrb0r6+1Z74db4ZRX0qWKTJUDruXsjrKKaqLkDQK5Pw=
  - secure: Psw/rm62oTp0+kxoi9fQGnGgce7iWDvEGjNXsMlM+PGj60MJ/cpSsjdWvTC4KdURveeKZs5M0LpQuhq92lOpG7DltCP/xUrDV9uNeoCXgEaR3fVON5USEHC+1O/NqE9geH1kDJnjL5MnTqu6Dk5NbzjLpZpb+3YMI0ZmNpo7u160o3qdGUqnD3x6hXbYETiKQ0H08qvc/OfHVSanHmllPL8nlbiGgASIGVA/T7BB/ni4ctlTKi9vXfJVvvMTW3OVVV9qSe0wOMJ7esSYOlnSVOPoC/XKNR5b7DDaFxdOMDRx3eSyMeyWq36gITmfgyZQWo8AmHip55m//FfzJMfKeI0+Co/BCaNOHBaJ1brTE4GUnnZ8XkbAwcw5SrSnREtQHQBr6V0osLqT5D/Nm7DoUOtzov4ML5T419ws4NaOHs7iFNHSaOyUkSK1MZ9QXhHKjkLYgMsbwbgSr6f/qDouCLGcLGUOA8vsWCej7yMBYEfd+i5mX7UUXBNo/ioUwtqjQtyo+24oDfgeO/5ZOY+ESi+KHSJXpLtFsr2yRcpu8/GprMt1kf+oeTsYbD8owdp3lNakUeWC+0cUdPKMgjqMnTjxNASlu1kBeaBxrfb2mLqdBVWlwp+pyQaO/puA23kydrECvgh6KeJrbZUS0Nb+Fu6dYVfSdh3eSCftClgmZRI=
  - secure: NNOM8EeaGXPgMfmiLhNxPTzSsViQvd7G9ceR4xzVIRxNW60XxGFAsniT8BlxTd4xPsuzUKn0P1EC5SW1xnpacmmIzzzrHguxXXCIR8tLNsJEAtmOl9Yh7y6az3rV9I1MSsvSRmx23+StR6gJHkWa0xQqIHG70sd2mXfP+3TKfPJWdLW9fDoXtSc+QK7Pox4BxueeXKNNI3K7xL7hiA9EY+Cf2b/wman6BCOv6RlXfFCnSm8zjdpgVDkrDJEZ9dJRXglGnyQRAM/I0e8FV9f3Gfc1etW6NQbqDL0qAO5YotyL5zZvB6Q5/F0qN+H2cVYsFUTWwkOgyRxvoM3HeAhwS9WopQJ7kmihp60ZgRrjU7lLI7iQz9Y74H9O6cOU5FToa+K+mqDtLCCdjLIliiiQRDm36aRK5On5UYChdAmiXxuH3nmEj0S2dYBwNJ4jIZK3EW6LMaVlYBJOBipVo9/9obGuMsWCiqUqaX3rd4iIVFT/SFuz2WWVhrUUVP2o2Pj5TYQPSa1rwqkxRgEGbvXhXh+TSofArPIxBf4R1HfiMQYO5UAW7NRETr9L8psnQGzdma9bbdsUhKD/Dv4d29QcIlnmIJghQ134KNa9rLOMupZ03qUvAeAbTflenR93UdU2m7MnXp/l3oXlLQcvvBOAU87QnNox9w/j4oFqQjmur1Y=
