# Copyright (c) 2018 JetRS
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
#
# You should have received a copy of The MIT License (MIT) along with this
# program. If not, see <http://opensource.org/licenses/MIT/>.

language: java
jdk:
- oraclejdk8
- oraclejdk11
install:
- cp settings.xml $HOME/.m2/settings.xml && rm -rf ~/.m2/repository/org/jetrs
script:
- 'if [ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
      [ "$TRAVIS_BRANCH" = "master" ] &&
      [ "$TRAVIS_PULL_REQUEST" = "false" ]; then
    sh -c "$SIGNING_KEY" | $GPG_EXECUTABLE --fast-import &> /dev/null &&
    mvn -e -U -DskipRTests -DrepoToken=$REPO_TOKEN clean deploy -P javadoc,report,deploy;
  else
    mvn -e -U -DskipRTests clean install;
  fi'
cache:
  directories:
    - ~/.m2/repository
env:
  global:
  - secure: wS7zp7tkD264dTQcs3h9YMYofL8Vnj12K4eoY9BuqRB5iqHAuNUUBA7dO5NkukgWGGCqlP98Ic//b9lup5shyD3hKqDgOx7mrJgvghvaUodglab5OOQ9JUjLtoWx8JzsYO3tRia7ATE/K8DlzFrsxo3wJRKEsVRJAJ6pELB4odtKYqhOjMf0lcwp8mkaZH8RiMagRSC634N56ldO6ykLF19NkeOoYBXi3G4MtmOPnSTb5c3nb+G9KyFZcSEXdJgM5320DeskwcBwuPpupjyA+O377eT9c0wboSZTyUvKDFWpNqeHFwWkzFyeztA3oKg1US0ITeQ7nqTKJrpEgzh9AN7uPNNwBdtrVYdDNPb5To8v5XdfLHXvmEPaltHHmmgZCN4B/sI/FCMo3m5JuLiChZATkvXffwowD8XJ0RD4z55LaG+6PNgVR1zoNaC3HmUVylWRhUqhDO6RAndLHy/KYVqHjC7ZNlV2iv59rIo2U2eYrxkMpVz0PO4ehqM8oy1HEh3TNydxIVjnqCvMtZhxW8l6QNXoShAdKmrDt8d4AtKrQuSRCtR1QwU5hW6we0LU0gaGBo2ZIXD9prWJbvBbmF7fdzvNujG/h4PNxoqtBPuBVUNbQNifBGWYENbZJ8QLNz5oNU9yT0dkouo9wEr3MuLntgrQ/5RhBQTnkofUS4g=
  - secure: R3mT9yc7rjld8eCmrLEVJIl/IOnmxilNhkP+Uqpx6f/vACUsMaeha1M7NZLSNcNqD2xthVSlTtlyI9BZ9fKH5o0Jl12IeKnBV8nhmBnuxb9ozAJ6MFd5qjEEZ7q3SXPWDY8xCZZRYHbq/KEQWnQQLY9Zwpj9S1qRpxd1FtJHIrtHkCSBOm801x78BjI+tMVh6Z9Pogg2rf3Wegq4XlAiKjUV9HKkKa6BdfsMcrHlRcSkDaLxavXSGq4XPcZnCWAQvm+ZK5FatDgArA9Yi29k/qVQtA22ft6wjX8VZkLgYbJVGaA0tl3MN+IOhCS5SAQP7be+luefPxUuKyrgUuhqmI5a6978XQl06C+yieK0mF1OErti1q+tFyyqGdIJHY9TeUqswrOXrCrvEqqfnKb4sS+qn+ZtVLa8E53Owv/OH4iKBaOvEe6NGyGwOIFTkxeHCcmBxZk8Jb5h76XgNnwaxd7ZKP4rEJQVu9bVmib2V/1xvswPHa3obKxYcitBcFRFEM9d/mejL6ROzscChwj9J+SuZfLspX0wf1T56ILdZyWxiFNkk7h0j8+YCSUc1QtbeZUUaXC/ZgsHoKMFtzbQKtyxFTWhvpk8hrcdtUvuoYTcPPjXIEjb6DoBSHwiuo0kdINrkqf3mnv034dhm80XglnQY1HT+57aPqvmc44JTss=
  - secure: 7AhTJxolbZuA/6IPoK3KDV93Xu/fFxwz3LTSP4eKPuu7py2XIDBhODPmP+VINsmZwfyb5Dfj8wUILmu0cZLxYGknnyiapE3sJQGNPJfeMEU44h3PG13qaNDgugd6mK4WXqN3BuJjv5SVEzwWK86sDRSwpGBrXrRANyujHqDD52itwLShO82wqZGU4qH3RBABfsdZiePIZ8o4l4kRlxdfagfFNBNf+a9UKsSdt/hMByET+e4nA+aO+yE2QjWF9ltOfamhkv9vPZ6ZEO9ASR2Cnu/zhyAtkIUZYIqXMHK9n2sIc9B1gJag/IiNsbaFp41TtDv1FNwj8uvle8UF0H+M7Uu8OXTVq/xyebgnEU9MCO5AOdRR8HeGvPkhJ4+aOJmEPZOj+IfB8Sp6QeBBwFt4DGEyS2vdIjSdeUH1cL07VmMZcLslZsW8Yw02zFmsPcyK3DcZKWF1vt6L1mPdEVxddkjYwda3QxHAeph7FLVfn1q6jzt5wY8Z4q2kVX2AphWzP9xbX7q2vhOpi9jbyUvvAIgu1Q+f+iFiZwATv3OQlUJ2MT5iANbShFEvq3Y31LtkgmPyMZRO33ozDNF5HncpYP4uMZSLofdFAHqix/aayEdOEh0+ICIEMfCDXUk4HIsfK2N7nSh7YNxYveL6CVJi+VMuzUZB7IlOBzfb2+zKjDE=
  - secure: CTmndC1gHaL7mTiKaUtTuh8Pu6HLhruhm6uhsZ7yBltHbJ4hC/IOO9b5mPQ6sxTwO4/rGh/XEa7FaMBYADkPHHEGmu6ob9bFBs1nRzXBFwHX6C8MRH1jOuj5nSVgozqTm2I9MSwGMkFAcetihMII5K8+fYzw6o7BkD4uL8f+uR1p9ak0l38KhHA92YkIImYNZ+Ekn7Ev3NAYAPSu8w4HsqKOYImkOf68zqlwDPCgGqec0/Fk+i2TpaN4BV+ugBw9MslIYTiD0sS6N2quOVKVRVaKEtTd3l4ch/FcpHGWL34AvTCibKs2eW5o2Yj2X1Ob8DDXs8gFTQFY6hHt29oGiswfkGKuADgvIvo0M3oe3gllZaO3nTbQFZs+FLGRs1lcEyLaFhB2Ltfhs8GZSEq8aQUnUDpkOEnPN4hsdGsVfg6gxbYAo1cHBkayiOXY/o3UnnrjBYJaLYvVygjXpFrwmjTFg4EMj6i0KC76dc4edWNabJ+V5ZE/2sISVPhQHEQt8SyeVh5IeG5ZFipZMIPR7PevKkR/FZT5JxtJSi5gkGKh9RY0CmSTKi3FGsS+10votaRFzrRBg5xWwpsIRbRqKsJEJWNuDN4Z5hHI8Y3yfvHgEo7zBYPRNVDa3igDU80OgDMRZLgqXer+GLDD1nqQ+Cz0XdZOJuQJjspr24CrkgQ=
  - secure: KPF/A7vs4It001/cwwx54lfMrdC8NfjALe1wb0owh3chYgmHcjPUXe8k0YU2clUqtAQdC53HThdVNHeyVSV3opjqd+cwmmOgIFlYFZ8fudBh5e3ZH+gL593kgqQ3INR+sHUbj+aqv1OCkEf/2GdWyQAMVcc/VqzqEKC5FDbXRze2uDpNUT5rgVJl4+zDrmFC1abcEt/D4nuepWn/z63B/rShJgxCCBNKNY7rFyWEIyPm1dnAqgPh4BVwleGR74H1QdatCNzRhxy1irfZdZlalqXnSluOQNsUfmb/EKWLYiAQghb7SMiQXqWgzOQcKeKBZXM+DlBdyEm5/HC2x0qjBlRHpfYoQqER9YfwjdiKTQmkoWDxsAJhZrAicf/7rVU58+4WOX5lbrK0836CtkmNi/i6LQ3Lul73rSe+bBah8llMshiMAuFOmhTzz02eQUG7v2/1OU6QzqJcNPQJIl9bNmNA99R5VgWkbM3OeAPos8X31XSIj8HzOtrY+gtUTctHf4puhczFAmSr2WKGLuNTmTwFW3Qh7/ty7bsJUvaS5aHKpfg9VpaW70OlzZN47opUyIWdZztVGClG5QpBJyu4P/vANRBmaWdj5PMnxvMefNXAX0vCeBkX8VJTtmValkPDMFG36SSjfXivlGaGCzYVkSgxhvD4CNp3c73ibPtu9UM=
  - secure: OPSHKarwcjTglOjevt0o8voCBYFmmcWLZStGGPR2TQzNh9/YeK85+Z4PVMLaeizNQvOPFNVfLEoicAoDEw21UCeiPujkrg4OTLVNUgiTiQshbGYb3LFIXqKMlYszPkuUYtMmIbC+1FaqIG2xKQ3XIMaNOAnB7eTF5D5qzp4oTIj3gRSiJSx2zlvA1SZsNlNFWKJJ6I7HCI7+DqDbeDGWzb4DiA+piVv7EpkpNpb2zCoFHFSQXzfUe1oOvJMIWfHfupjdG6Ji5b/7N7REqAPMmVvoYQJn+sLQVCjBpTpumHvXfZkMdchkZf9de16BkW0jVDLOY3cof6wTecGPP57OY2UbPz7SZHUe9KA77LUSnTOrxVjwbzOmeaXbS8w6/WGZgtTS/4LYw9ZDOC0FK2tkg6H6t6uMXID8B+hoENsqfY02aepwk9YaL3c+lrzEZs3mWKLfz6Q1dwJbGWG4WnXXz/n/4nXWgAlRm6KsP1A2HFfKVA8eu5gOmtHKqdUZOYDeEK6IJcmmpUbnvGUgfWm6tRkotRwvQJETlbsyHdrqqo9OYT05TirR2pETbjWORSXn4JLGoB48NP/tmU3wMAAau92nvIFyuD551U6ZWCdEWsJrYvlZNuTGpkCSz3mxXkC0yLtKuS5wX8zOflUvCLG18VALEgsBUXbkxIQTaD94ikI=
  - secure: caL5wj/+cqOaZde4a83emYVYMvYnNukovHO95gkirGnSk4UREow4oR2/a+cWuHqMI5tDkZkRKagczkWxgpZQq5mmzCBPl9Zw3RBSAY5i86/aZNhijRSP06yzcv2MQyyAPF2f3H/AdjBnxOevhBOvCkElYHMecu9WK/JHLKsuCBv6l0UKzKyBSprVQT88jWusK4jOXuCpuhaKip2xc1AmH41WRYsw5QfgdsOEoU7Tefuby26rFpbxKM9Pcx4hj5pfwM6z9NlU1MzbeqxTM5rAZnGJvNhJzjBowJ8/Cg0VL2v6VsCXwoXHkaP1FlmcVK3ICJD23y3bT98xVEeTrjOYbZLlEsjnPosFzXZXHaPsIhR3s6rwxvk6YHYJ96poFMxQbzhsZmq7ZqlCY1YnSkYMSgAMntKHFKIvtw2DQQ99fXVYpWHWbOM3WZQsJaIxZWxGKlFhZ49eX8JQWEoL9LKydvrGXXM0ydD/0K4IG9qv8XMSklCgXA45KppE58tBCuMEtc5iAm+7C4iuum7O/xbyxop1+ZbrStd0wVc9PksJc/xqJNcmWCtXm9g4GUR1JlBhmUXbxvbChteoiuDi4lZOElR153LMywPDYtQvgIxOV378hYls4carfTnn8Zg3bp0Hoqp7ESGYvr0/DfzGc5yuWwMbIkqxeJgzguzFZ3UsYuk=
